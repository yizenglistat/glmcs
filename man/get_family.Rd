% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{get_family}
\alias{get_family}
\title{Modify GLM Family Objects or Create Cox Family with Fixed Dispersion}
\usage{
get_family(family, dispersion = 1, validate = TRUE)
}
\arguments{
\item{family}{A GLM family object (e.g., gaussian(), binomial(), poisson(),
Gamma(), inverse.gaussian()) or the string "cox".}

\item{dispersion}{Positive numeric scalar. The fixed dispersion parameter value
for two-parameter GLM families. Ignored for one-parameter
families (binomial, poisson) and "cox". Default is 1.}

\item{validate}{Logical. If TRUE, performs basic consistency checks on the
modified family object (link function reversibility, etc.)
Default is TRUE.}
}
\value{
For GLM families, returns a modified family object (list) with components:
\itemize{
\item \code{family}: Character string naming the family
\item \code{link}: Character string naming the link function
\item \code{linkfun()}: Link function
\item \code{linkinv()}: Inverse link function
\item \code{variance()}: Variance function (modified for two-parameter families)
\item \code{dev.resids()}: Deviance residuals function (modified for two-parameter families)
\item \code{aic()}: AIC function (modified for two-parameter families)
\item \code{dispersion}: Numeric scalar with the fixed dispersion value
\item ... and other components from the original family object
}

For "cox", returns the string "cox".
}
\description{
Creates or modifies family objects for use in generalized linear models (GLMs)
or Cox proportional hazards models. For two-parameter GLMs (gaussian, Gamma,
inverse.gaussian), this function sets a fixed dispersion parameter, modifying
the variance, deviance, and AIC functions accordingly.
}
\details{
Modify GLM Family Objects or Create Cox Family with Fixed Dispersion (if any)

For GLM families, this function:
\enumerate{
\item Validates if the family supports a dispersion parameter
\item For two-parameter families (gaussian, Gamma, inverse.gaussian), modifies:
\itemize{
\item \code{variance()}: Returns dispersion-adjusted variance function
\item \code{dev.resids()}: Returns dispersion-adjusted deviance residuals
\item \code{aic()}: Returns dispersion-adjusted AIC
}
\item For one-parameter families (binomial, poisson), ignores the dispersion
parameter and sets it to 1
\item Optionally validates the family by testing link functions and other components
}

For "cox", returns the string "cox" directly, which is recognized by the LASER
modeling functions as a special case.
}
\note{
The dispersion parameter in R is the inverse of the "shape" parameter
often used in statistical literature, particularly for the Gamma distribution.
}
\examples{
# Standard Gaussian family with default dispersion
gaussian_fam <- get_family(gaussian())

# Gaussian family with custom dispersion
gaussian_fam2 <- get_family(gaussian(), dispersion = 2.5)

# Cox proportional hazards
cox_fam <- get_family("cox")

# Gamma distribution with dispersion = 0.5 (shape = 2)
gamma_fam <- get_family(Gamma(), dispersion = 0.5)

# One-parameter family (ignores dispersion)
poisson_fam <- get_family(poisson(), dispersion = 2) # dispersion will be set to 1

}
\seealso{
\code{\link[stats]{family}}
}
